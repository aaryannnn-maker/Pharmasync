<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - PharmaSync</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body class="bg-background min-h-screen flex items-center justify-center p-4">
    <!-- Background Pattern -->
    <div class="fixed inset-0 z-0 opacity-5">
        <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="medical-grid" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
                    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="currentColor" stroke-width="1" class="text-primary"/>
                    <circle cx="20" cy="20" r="2" fill="currentColor" class="text-primary"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#medical-grid)"/>
        </svg>
    </div>

    <!-- Login Container -->
    <div class="relative z-10 w-full max-w-md">
        <!-- Logo and Header -->
        <div class="text-center mb-8">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4 shadow-mint-md">
                <svg class="w-10 h-10 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/>
                </svg>
            </div>
            <h1 class="text-3xl font-heading font-bold text-text-primary mb-2">PharmaSync</h1>
            <p class="text-text-secondary text-base">Healthcare Inventory Management System</p>
        </div>

        <!-- Login Card -->
        <div class="bg-surface rounded-2xl shadow-mint-xl p-8 border border-border">
            <!-- Welcome Message -->
            <div class="mb-6">
                <h2 class="text-2xl font-heading font-semibold text-text-primary mb-2">Welcome Back</h2>
                <p class="text-text-secondary text-sm">Sign in to access your pharmacy inventory dashboard</p>
            </div>

            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="mb-4 {% if category == 'error' %}bg-error-50 border-error-200 text-error-700{% else %}bg-success-50 border-success-200 text-success-700{% endif %} border rounded-lg p-4">
                            <p class="text-sm font-medium">{{ message }}</p>
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <!-- Login Form -->
            <form method="POST" action="{{ url_for('login') }}" class="space-y-5">
                <!-- Email Field -->
                <div>
                    <label for="email" class="block text-sm font-medium text-text-primary mb-2">
                        Email Address
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email"
                        class="input w-full" 
                        placeholder="pharmacy@example.com"
                        required
                        autocomplete="email"
                    >
                </div>

                <!-- Password Field -->
                <div>
                    <label for="password" class="block text-sm font-medium text-text-primary mb-2">
                        Password
                    </label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password"
                        class="input w-full" 
                        placeholder="Enter your password"
                        required
                        autocomplete="current-password"
                    >
                </div>

                <!-- Remember Me -->
                <div class="flex items-center justify-between">
                    <label class="flex items-center cursor-pointer">
                        <input 
                            type="checkbox" 
                            id="remember"
                            name="remember"
                            value="1"
                            class="w-4 h-4 text-primary border-border rounded focus:ring-2 focus:ring-primary focus:ring-offset-2 cursor-pointer"
                        >
                        <span class="ml-2 text-sm text-text-secondary">Remember me</span>
                    </label>
                    <a href="{{ url_for('register') }}" class="text-sm text-primary hover:text-primary-600 transition-smooth font-medium">
                        Need an account?
                    </a>
                </div>

                <!-- Sign In Button -->
                <button 
                    type="submit" 
                    class="btn btn-primary w-full shadow-mint-md hover:shadow-mint-lg"
                >
                    Sign In
                </button>
            </form>

            <!-- Demo Credentials -->
            <div class="mt-6 p-4 bg-primary-50 rounded-lg border border-primary-200">
                <p class="text-xs font-semibold text-primary mb-2">Demo Credentials:</p>
                <p class="text-xs text-text-secondary">Email: <span class="font-mono font-medium">admin@pharmasync.com</span></p>
                <p class="text-xs text-text-secondary">Password: <span class="font-mono font-medium">admin123</span></p>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-8 text-center text-xs text-text-tertiary">
            <p>Â© 2026 PharmaSync. All Rights Reserved.</p>
        </div>
    </div>
</body>
</html>